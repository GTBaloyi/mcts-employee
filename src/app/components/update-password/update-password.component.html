<app-page-title [heading]="heading" [subheading]="subheading" [icon]="icon"></app-page-title>

<div class="mx-auto app-login-box col-md-12">
        <div class="modal-content" style="width: 80%; margin: auto">
            <div class="modal-body">
                <div class="h5 modal-title text-center">
                    Hi {{user.name}} {{user.surname}}
                </div>
                <div class="divider"></div>
                <form class="forms-sample" #changePasswordForm="ngForm" (ngSubmit)="changePasswordForm.form.valid && changePassword()">
                    <div class="form-group">
                        <input type="text" class="form-control" name="username" placeholder="username"
                               [(ngModel)]="employeeInformation.employeeNumber"
                               #email="ngModel"
                               [ngClass]="{ 'is-invalid': changePasswordForm.submitted && email.invalid }"
                               disabled>
                    </div>
                    <div class="form-group">
                        <input type="password" class="form-control" name="oldPassword" placeholder="Current password"
                               [(ngModel)]="oldPassword"
                               #oldPass="ngModel"
                               autocomplete="off"
                               [ngClass]="{ 'is-invalid': changePasswordForm.submitted && oldPass.invalid }">
                        <div *ngIf="changePasswordForm.submitted && oldPass.invalid" class="invalid-feedback">
                            <div *ngIf=" oldPass.errors.required">Current Password is required</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <input type="password" class="form-control" name="newPassword" placeholder="New password"
                               [(ngModel)]="newPassword"
                               #password="ngModel"
                               [ngClass]="{ 'is-invalid': changePasswordForm.submitted && password.invalid }"
                               required>
                        <div *ngIf="changePasswordForm.submitted && password.invalid" class="invalid-feedback">
                            <div *ngIf=" password.errors.required">Password is required</div>
                        </div>
                    </div>
                    <div class="modal-footer d-block text-center">
                        <button  type="submit" class="btn btn-wide btn-pill btn-shadow btn-hover-shine btn-primary btn-lg">
                            Change Password
                        </button>
                    </div>
                </form>
            </div>
        </div>
</div>


<div *ngIf="isLoading | async" class="overlay">
    <div class="spinner">
        <img class="loader" src="../../../assets/wheel.gif">
    </div>
</div>